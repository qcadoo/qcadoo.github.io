I"'<h2 id="informacje">Informacje</h2>

<p>Za pomocą tej metody api utworzysz normy kosztowe produktu w systemie.</p>

<p><strong>Moduł integracyjny:</strong> urcCostNormsForProduct</p>

<p><strong>Nazwa akcji:</strong> updateProductsCostNorms</p>

<p><strong>URL:</strong> /integration/rest/updateProductsCostNorms.html</p>

<p><strong>Metoda http:</strong> POST</p>

<h2 id="zawartość-żądania">Zawartość żądania</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "products" : [
    {
      "externalID" : "externalID",
      "nominalCost" : "nominal cost", // opcjonalne
      "costForNumber" : "quantity for which we define the prices", // opcjonalne
      "lastPurchaseCost" : "last purchase per given number of units",
      "averageCost" : "average price per given number of units"
    }
  ]
}
</code></pre></div></div>

<h2 id="zawartość-odpowiedzi">Zawartość odpowiedzi</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "status": "OK",
    "message": null // Gdy status ERROR - informacja z przyczyną błędu
}
</code></pre></div></div>

<h2 id="działanie">Działanie</h2>
<p>W tej akcji MES powinien otrzymać wszystkie normy kosztowe produktów z ERP, które istnieją w qcadoo i zostały zaktualizowane od ostatniej synchronizacji.</p>

<p>Jeżeli costForNumber nie jest podane wtedy ustawiamy na 1.</p>

<p>Jeżeli nominalCost nie jest podane lub null wtedy w qcadoo:</p>

<ul>
  <li>wartość tego pola pozostaje niezmieniona jeżeli w qcadoo jest taki sam costForNumber jak w akcji API</li>
  <li>w przeciwnym wypadku gdy chcemy ustawić costForNumber na inną wartość niż była poprzednio wtedy poprzednia wartość nominalCost zostanie odpowiednio przekalkulowana.</li>
</ul>
:ET